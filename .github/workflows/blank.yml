name: Dev & Stg Deployments with Approval

on:
  workflow_dispatch:

jobs:
  # â”€â”€â”€ DEV â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  approval-dev:
    name: "Approval: DEV"
    runs-on: ubuntu-latest
    environment: dev-environment
    steps:
      - run: echo "Manual approval for DEV granted."

  build-dev:
    name: "Build DEV"
    needs: approval-dev
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ—ï¸ Building for DEV..."

  test-dev:
    name: "Test DEV"
    needs: approval-dev
    runs-on: ubuntu-latest
    steps:
      - run: echo "âœ… Running tests for DEV..."

  deploy-dev:
    name: "Deploy DEV"
    needs: [build-dev, test-dev]
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸš€ Deploying to DEV..."

  # â”€â”€â”€ STG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  approval-stg:
    name: "Approval: STG"
    runs-on: ubuntu-latest
    environment: stg-environment
    steps:
      - run: echo "Manual approval for STG granted."

  build-stg:
    name: "Build STG"
    needs: approval-stg
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ—ï¸ Building for STG..."

  test-stg:
    name: "Test STG"
    needs: approval-stg
    runs-on: ubuntu-latest
    steps:
      - run: echo "âœ… Running tests for STG..."

  deploy-stg:
    name: "Deploy STG"
    needs: [build-stg, test-stg]
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸš€ Deploying to STG..."
